"use strict";const swiper=new Swiper(".slider-main__body",{loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");function n(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function t(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function r(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}console.log(e),e.addEventListener("submit",(async function(o){event.preventDefault();let a=function(e){let i=0,o=document.querySelectorAll("._req");for(let e=0;e<o.length;e++){const a=o[e];t(a),a.classList.contains("_email")?r(a)&&(n(a),i++):""===a.value&&n(a)}return i}();new FormData(e).append("image",i.files[0]),0===a||alert("Заполните обязательные поля")}));const i=document.getElementById("formImage"),o=document.getElementById("formPreview");i.addEventListener("change",()=>{!function(e){if(!["image/jpeg","image/png","image/gif"].includes(e.type))return alert("Разрешены только изображения."),void(i.value="");if(e.size>2097152)return void alert("Файл должен быть не более 2 МБ.");var n=new FileReader;n.onload=function(e){o.innerHTML=`<img src="${e.target.result}" alt="Фото">`},n.onerror=function(e){alert("Ошибка")},n.readAsDataURL(e)}(i.files[0])})}));let isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};